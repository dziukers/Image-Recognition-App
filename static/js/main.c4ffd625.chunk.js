(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,a,t){e.exports=t.p+"static/media/brain.79bb4da8.png"},16:function(e){e.exports={particles:{number:{value:70,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!0,anim:{enable:!0,speed:1,opacity_min:.1,sync:!0}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:126.26362266116361,color:"#dddddd",opacity:.4,width:1.4204657549380908},move:{enable:!0,speed:4,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}},18:function(e,a,t){e.exports=t(55)},23:function(e,a,t){},26:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){},42:function(e,a,t){},45:function(e,a,t){},47:function(e,a,t){},49:function(e,a,t){},51:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),s=t(6),l=t.n(s),r=(t(23),t(1)),o=t(2),c=t(4),m=t(3),u=t(5),d=(t(26),t(8)),p=t.n(d),h=(t(38),Array.apply(null,{length:10}).map(function(e,a){return i.a.createElement("tr",{key:a+1},i.a.createElement("td",null,a+1),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null))}));p.a.setAppElement(document.getElementById("root"));var g=function(e){function a(){var e;return Object(r.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).openModal=function(){fetch("https://fast-caverns-20871.herokuapp.com/ranking").then(function(e){return e.json()}).then(function(a){return e.setState({ranking:a,loadingRanking:!1})}),e.setState({modalIsOpen:!0})},e.closeModal=function(){e.setState({modalIsOpen:!1})},e.state={modalIsOpen:!1,ranking:[],loadingRanking:!0},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.ranking,n=a.loadingRanking;return t.map(function(e,a){h[a]=i.a.createElement("tr",{key:a+1},i.a.createElement("td",null,a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.entries),i.a.createElement("td",null,e.email.replace(e.email.slice(1,e.email.indexOf("@")-2),"*****")))}),i.a.createElement("div",null,i.a.createElement("p",{className:"f4 link dim dark-gray pa3 pointer",onClick:this.openModal},"Ranking"),i.a.createElement(p.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,className:!0,contentLabel:"Ranking"},i.a.createElement("h2",{className:"ranking-header",ref:function(a){return e.subtitle=a}}),i.a.createElement("button",{className:"absolute right-0 top-0 bn pa1 bg-washed-blue hover-light-red",onClick:this.closeModal},"close"),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Rank"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Points"),i.a.createElement("th",null,"Email"))),n?i.a.createElement("div",null,"Loading..."):i.a.createElement("tbody",null,h))))}}]),a}(i.a.Component),b=(t(40),function(e){var a=e.onRouteChange;return e.isSignedIn?i.a.createElement("nav",{className:"navigation"},i.a.createElement(g,null),i.a.createElement("p",{onClick:function(){return a("signout")},className:"f4 link dim light-gray  pa3 pointer"},"Sign Out")):i.a.createElement("nav",{className:"navigation"},i.a.createElement("p",{onClick:function(){return a("signin")},className:"f4 link dim light-gray pa3 pointer"},"Sign In"),i.a.createElement("p",{onClick:function(){return a("register")},className:"f4 link dim light-gray pa3 pointer"},"Register"),i.a.createElement("p",{onClick:function(){return a("home")},className:"f4 link light-gray hover-purple pa3 pointer"},"Login as Anonymous"))}),f=t(13),v=t.n(f),E=(t(42),t(14)),w=t.n(E),y=function(){return i.a.createElement("div",{className:"ma4 mt0 "},i.a.createElement(v.a,{className:"Tilt br2 shadow-1",options:{max:55},style:{height:200,width:200}},i.a.createElement("div",{className:"Tilt-inner pa3"},"Image Recognition App ",i.a.createElement("img",{src:w.a,alt:"logo",style:{paddingTop:"5px"}}))))},k=(t(45),function(e){function a(){return Object(r.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onInputChange,t=e.onDetectSubmit,n=e.handleRandomLink,s=e.value,l=e.imageLoading;return i.a.createElement("div",{className:""},i.a.createElement("div",{className:"center imageForm pa4 shadow-5 ba b--black-05 lh-title "},i.a.createElement("p",{className:"w-95 tc "},"Enter your url with the photo and let the Artificial Intelligence recognize what it is.\n If you don't have any image you can find some at",i.a.createElement("a",{className:"link dim gold bg-animate",href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer"}," unsplash.com")," or generate",i.a.createElement("span",{className:"link dim gold bg-animate relative pointer",onClick:n}," random link.",l?i.a.createElement("span",{className:"loaderSmall"}):"")),i.a.createElement("input",{className:"f4 pv2 w-70 center",type:"url",placeholder:"https://",value:s,onChange:a}),i.a.createElement("button",{className:"w-30 grow f4 link pv2 dib white bg-blue",onClick:t},"Detect")))}}]),a}(n.Component)),N=function(e){function a(){var e;return Object(r.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).handleShow=function(){e.setState({show:!1})},e.state={show:!0},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.name,t=e.entries;return i.a.createElement("div",null,i.a.createElement("div",{className:"near-black f3 pb2 tracked"},"Anonymous"===a?i.a.createElement("span",{onClick:this.handleShow,className:this.state.show?"f5 light-gray":"dn"},"Hi, if you would like to have your place in score table and collect points, please register :)"," ",i.a.createElement("h6",{className:"f7 pa1 ma0 white"},"click to hide")):"".concat(a,", your current score is:")),i.a.createElement("div",{className:"white f1 "},"Anonymous"===a?null:t))}}]),a}(i.a.Component),j=(t(47),t(49),function(e){var a=e.imageInfo;return i.a.createElement("ul",{className:"info"},a.map(function(e,a){var t=parseFloat(100*e.value).toFixed(2);return i.a.createElement("li",{key:a,className:"detected-paragraph"},i.a.createElement("span",{className:"detectedName"},"".concat(e.name)),i.a.createElement("span",{className:"detectedValue"}," ".concat(t,"%")))}))}),S=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleImageLoaded=function(){t.setState({loading:!1})},t.state={loading:!0},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){this.setState({loading:!0})}},{key:"render",value:function(){var e=this.props,a=e.imageUrl,t=e.imageInfo;return i.a.createElement("div",{className:"flex justify-center"},i.a.createElement("div",{className:"imageContainer relative"},i.a.createElement("img",{className:this.state.loading?"currentImage":"currentImage visible",onLoad:this.handleImageLoaded,src:a,alt:""}),this.state.loading?null:i.a.createElement(j,{imageInfo:t})))}}]),a}(n.Component),C=t(15),I=t.n(C),_=t(16),O=function(e){function a(){var e;return Object(r.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).onEmailChange=function(a){e.setState({signInEmail:a.target.value})},e.onPasswordChange=function(a){e.setState({signInPassword:a.target.value})},e.onSubmitSignIn=function(){fetch("https://fast-caverns-20871.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.signInEmail,password:e.state.signInPassword})}).then(function(e){return e.json()}).then(function(a){a.id&&(e.props.loadUser(a),e.props.onRouteChange("home"))})},e.state={signInEmail:"",signInPassword:""},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.onRouteChange;return i.a.createElement("main",{className:"pa4 mb4 b--black-20 br3 ba w-90-m shadow-5 mw6 center w-90 w-30-l"},i.a.createElement("div",{className:"measure center"},i.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},i.a.createElement("legend",{className:"f2 fw4 ph0 mh0 normal"},"Sign In"),i.a.createElement("div",{className:"mt3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),i.a.createElement("input",{onChange:this.onEmailChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address"})),i.a.createElement("div",{className:"mv3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),i.a.createElement("input",{onChange:this.onPasswordChange,className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password"}))),i.a.createElement("div",{className:""},i.a.createElement("input",{onClick:this.onSubmitSignIn,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})),i.a.createElement("div",{className:" tc lh-copy mt3 pointer"},i.a.createElement("p",{onClick:function(){return e("register")},className:"f6 link dim black db"},"Register")),i.a.createElement("div",{className:"tr"},i.a.createElement("input",{onClick:function(){return e("home")},className:"b ph3 pv2 input-reset ba b--black grow pointer f6 dib bg-light-purple",type:"submit",value:"Anonymous login"}))))}}]),a}(i.a.Component),R=t(17),F=(t(51),function(e){function a(){var e;return Object(r.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).handleUserInput=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(R.a)({},t,n),function(){e.validateField(t,n)})},e.validateField=function(a,t){var n=e.state.emailValid,i=e.state.passwordValid;switch(a){case"email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);break;case"password":i=t.length>=6}e.setState({emailValid:n,passwordValid:i},e.validateForm)},e.validateForm=function(){e.setState({formValid:e.state.emailValid&&e.state.passwordValid&&e.state.name})},e.onSubmitRegister=function(){fetch("https://fast-caverns-20871.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.email,password:e.state.password,name:e.state.name})}).then(function(e){return e.json()}).then(function(a){a.id&&(e.props.loadUser(a),e.props.onRouteChange("home"))})},e.state={email:"",password:"",name:"",emailValid:!1,passwordValid:!1,formValid:!1,nameInputHelp:!1,emailInputHelp:!1,passwordInputHelp:!1},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("main",{className:"pa4 mb4 b--black-20 br3 ba shadow-5 mw6 center w-90 w-30-l"},i.a.createElement("div",{className:"measure center"},i.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},i.a.createElement("legend",{className:"f2 fw4 ph0 mh0"},"Register"),i.a.createElement("div",{className:"mt3 relative "},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name"},"Name"),i.a.createElement("input",{onChange:this.handleUserInput,onFocus:function(){e.setState({nameInputHelp:!0})},onBlur:function(){e.setState({nameInputHelp:!1})},className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name"}),this.state.nameInputHelp?i.a.createElement("div",{className:"email-help f6"}," Please enter your name"):null),i.a.createElement("div",{className:"mt3 relative"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),i.a.createElement("input",{onChange:this.handleUserInput,onFocus:function(){e.setState({emailInputHelp:!0})},onBlur:function(){e.setState({emailInputHelp:!1})},className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email",id:"email-address"}),this.state.emailInputHelp?i.a.createElement("div",{className:"email-help f6"}," Please enter your address email"):null),i.a.createElement("div",{className:"mv3"},i.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),i.a.createElement("input",{onChange:this.handleUserInput,onFocus:function(){e.setState({passwordInputHelp:!0})},onBlur:function(){e.setState({passwordInputHelp:!1})},className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password"}),this.state.passwordInputHelp?i.a.createElement("div",{className:"email-help f6"}," Please enter your password (min: 6 characters)"):null)),i.a.createElement("div",{className:""},i.a.createElement("input",{onClick:this.onSubmitRegister,disabled:!this.state.formValid,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"}))))}}]),a}(i.a.Component)),L={input:"",imageUrl:"https://images.unsplash.com/photo-1540206458-a985485e4a8e?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=e2e651dc8e83c46450aaf39a4dd59066&auto=format&fit=crop&w=2090&q=80",imageInfo:[{id:"ai_BlL0wSQh",name:"water",value:.9962818,app_id:"main"},{id:"ai_7bRKqWjp",name:"sea",value:.99576914,app_id:"main"},{id:"ai_xZgtf58b",name:"ocean",value:.9903431,app_id:"main"},{id:"ai_VRmbGVWh",name:"travel",value:.98410416,app_id:"main"},{id:"ai_786Zr311",name:"no person",value:.9831534,app_id:"main"},{id:"ai_jWFxtpH1",name:"seashore",value:.98313934,app_id:"main"},{id:"ai_J1hw9SFJ",name:"beach",value:.9816502,app_id:"main"},{id:"ai_jlzP4C8j",name:"island",value:.9743533,app_id:"main"},{id:"ai_MTvKbKJv",name:"landscape",value:.9673852,app_id:"main"},{id:"ai_tBcWlsCp",name:"nature",value:.9517455,app_id:"main"},{id:"ai_V0zg5ppH",name:"seascape",value:.93681777,app_id:"main"},{id:"ai_lNsKfmXb",name:"sky",value:.93339205,app_id:"main"},{id:"ai_PchWZPFC",name:"boat",value:.90155095,app_id:"main"},{id:"ai_1W3Gfjzg",name:"vacation",value:.8997644,app_id:"main"},{id:"ai_FsT0Zqdb",name:"summer",value:.8986201,app_id:"main"},{id:"ai_Zmhsv0Ch",name:"outdoors",value:.8936979,app_id:"main"},{id:"ai_0rLMqXwG",name:"bay",value:.8908093,app_id:"main"},{id:"ai_DSCFH6f6",name:"sand",value:.882473,app_id:"main"},{id:"ai_r8x1BJcR",name:"surf",value:.8784616,app_id:"main"},{id:"ai_vCbqNgZn",name:"turquoise",value:.8681201,app_id:"main"}],imageLoading:!1,dataFetching:!1,route:"signin",isSignedIn:!1,user:{id:"",name:"",email:"",entries:0,joined:""}},H=function(e){function a(){var e;return Object(r.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).loadUser=function(a){e.setState({user:{id:a.id,name:a.name,email:a.email,entries:a.entries,joined:a.joined}})},e.onInputChange=function(a){console.log(a.target.value),e.setState({input:a.target.value})},e.onDetectSubmit=function(){e.setState({dataFetching:!0}),e.state.input.includes("http")?(e.setState({imageUrl:e.state.input}),fetch("https://fast-caverns-20871.herokuapp.com/imageurl",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.state.input})}).then(function(e){return e.json()}).then(function(a){var t=a.outputs[0].data.concepts;e.setState({imageInfo:t,input:"",dataFetching:!1}),e.state.user.name&&fetch("https://fast-caverns-20871.herokuapp.com/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.user.id})}).then(function(e){return e.json()}).then(function(a){e.setState(Object.assign(e.state.user,{entries:a}))}).catch(console.log)})):e.setState({input:"Enter a valid address",dataFetching:!1})},e.handleRandomLink=function(){e.setState({imageLoading:!0}),fetch("https://source.unsplash.com/random").then(function(a){return e.setState({input:a.url+".jpg",imageLoading:!1})}).catch(function(e){return console.log(e)})},e.onRouteChange=function(a){"signout"===a?e.setState(L):"home"===a&&e.setState({isSignedIn:!0}),e.setState({route:a})},e.state=L,e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){fetch("https://fast-caverns-20871.herokuapp.com/").then(function(e){return e.json()}).then(console.log)}},{key:"render",value:function(){var e=window.innerWidth,a=this.state,t=a.isSignedIn,s=a.imageUrl,l=a.imageInfo,r=a.imageLoading,o=a.input,c=a.route,m=a.dataFetching;return i.a.createElement("div",{className:"App"},e>800?i.a.createElement(I.a,{className:"particles",params:_}):null,i.a.createElement(b,{isSignedIn:t,onRouteChange:this.onRouteChange}),"home"===c?i.a.createElement(n.Fragment,null,i.a.createElement(y,null),i.a.createElement(N,{name:this.state.user.name||"Anonymous",entries:this.state.user.entries}),i.a.createElement(k,{imageLoading:r,onInputChange:this.onInputChange,handleRandomLink:this.handleRandomLink,onDetectSubmit:this.onDetectSubmit,value:o}),m?i.a.createElement("div",{className:"loaderBig"}):i.a.createElement(S,{dataFetching:m,imageUrl:s,imageInfo:l})):"signin"===c?i.a.createElement(O,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):i.a.createElement(F,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(53);l.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.c4ffd625.chunk.js.map